<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Lesson 12: Object Identity</title>
    <link rel="StyleSheet" href="css/lesson12.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
  </head>
  <body class="" style="">
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="lesson11.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <!-- Jen: Added following lines for start.gif in navBar  -->
          <td>
            <a href="Tutorial.html"><img src="images/start.gif" alt="Previous" border="0" /></a>
          </td>
          <!-- Jen: End added lines  -->
          <td>
            <a href="lesson13.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <hr align="left" />
    <!-- Jen: Changed blockquote to div on line below -->
    <div>
      <div class="ChapNoNum"><a name="1164153">Lesson 12: Object Identity</a></div>
      <div class="Body"><a name="1164158">Every persistent object in a </a>Objectivity/DB federated database is uniquely identified by an object identifier (OID).</div>
      <div class="Body"><a name="1165623">I</a>n the FD Project Explorer:</div>
      <div class="StepOnly_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="StepOnly_inner" style="width: 18pt; white-space: nowrap;">►</div>
            </td>
            <td width="100%">
              <div class="StepOnly_inner"><a name="1165410">Expand </a><span class="Bold">Data</span>, the <span class="Bold">pmV2-Region_G3_1</span> database, and the <span class="Bold">pmV2-Company_G3_1</span> container. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Indented1"><a name="1165411">Notice the OID </a>(<span class="Bold">5-3-1-4</span>) of the object in the container.</div>
      <div class="Anchor"><a name="1164668"><img class="Default" src="images/scrnOID_1.jpg" width="393" height="351" style="display: block; float: none; left: 0.0; top: 0.0;" alt="" /></a></div>
      <div class="Body"><a name="1164161">A persistent object’s OID is essentially its address within the storage hierarchy of </a>the federated database. The OID is constructed from various individual storage-object identifiers.</div>
      <div class="Head1"><a name="1164162">Storage-</a>object identifiers</div>
      <div class="BodyKeep"><a name="1164163">Every database and container has a unique integer identifier:</a></div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164165">A database’s identifier is unique among the databases in the same federated </a>database.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164166">A container’s identifier is unique among the containers in the same database.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="1164167">Recall that a database has logical pages for storing the physical representations of </a>persistent objects, and that each container manages a group of database pages:</div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164168">A page has an integer identifier that is unique among the pages in the same </a>container.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="1164169">Each persistent object usually fits into a single page</a>—in fact, many persistent objects will generally fit on the same page. Each location occupied by a persistent object on a page is called a <span class="Term">slot</span>:</div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164170">A slot has an integer identifier that is unique among the slots on the same </a>page.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Body"><a name="1164420">A slot may be fixed or variable in size, depending on its purpose.</a></div>
      <div class="Head1"><a name="1164171">Persistent-object identifiers (OIDs)</a></div>
      <div class="Body"><a name="1164172">The object identifier (OID) of a persistent object has 4 components, separated by </a>hyphens. From left to right, these components are the identifiers of the database, container, page, and slot in which the persistent object is stored. For example, the persistent object 5-3-1-4 is located in database 5, container 3, page 1, slot 4.</div>
      <div class="Body"><a name="1165983">O</a>IDs are assigned and managed by Objectivity/DB. An OID can change during the lifetime of an object, but only if an administrative tool moves the persistent object to a different container. After an object is moved, Objectivity/DB automatically updates any bidirectional relationships (associations) that reference it.</div>
      <div class="Body"><a name="1164481">O</a>bjectivity/DB can reuse an OID immediately after the corresponding persistent object is deleted or moved.</div>
      <div class="Body"><a name="1164180">For uniformity, the integer identifier of a database or container is often expressed </a>in the 4-part OID format. Assist generally uses the OID format, so, for example, the identifier for database 5 is shown as 5-0-0-0.</div>
      <div class="Head1"><a name="1164184">Advantages of OIDs</a></div>
      <div class="Body"><a name="1164188">O</a>bjectivity/DB uses OIDs instead of memory addresses or physical disk pointers to identify objects, because OIDs provide:</div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164189">Transparent access at runtime to objects located anywhere in the network.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164190">Full interoperability across all platforms.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164191">Access to more objects than a direct memory address permits.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164192">Ability to move objects to different physical locations without changing their </a>identity.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Bullet1_outer" style="margin-left: 72pt;">
        <table border="0" cellspacing="0" cellpadding="0" summary="">
          <tr style="vertical-align: baseline;">
            <td>
              <div class="Bullet1_inner" style="width: 18pt; white-space: nowrap;">■</div>
            </td>
            <td width="100%">
              <div class="Bullet1_inner"><a name="1164193">Integrity constraints and runtime type checking that are not possible through </a>direct memory addresses.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="Indented1" style="color: #000000; font-size: 10.0pt; font-style: normal; font-variant: normal; font-weight: bold; text-transform: none; vertical-align: baseline;"><a name="1164198"> </a></div>
    </div>
    <hr align="left" />
    <div style="text-align: left;">
      <table cellspacing="0" summary="">
        <tr>
          <td>
            <a href="lesson11.html"><img src="images/prev.gif" alt="Previous" border="0" /></a>
          </td>
          <!-- Jen: Added following lines for start.gif in navBar  -->
          <td>
            <a href="Tutorial.html"><img src="images/start.gif" alt="Previous" border="0" /></a>
          </td>
          <!-- Jen: End added lines  -->
          <td>
            <a href="lesson13.html"><img src="images/next.gif" alt="Next" border="0" /></a>
          </td>
        </tr>
      </table>
    </div>
    <table align="left" summary="">
      <tr>
        <td class="WebWorks_Company_Name_Bottom">
          <a href="./Copyright.html" target="external_window">Copyright © 2012, Objectivity, Inc. All rights reserved.</a>
        </td>
      </tr>
    </table>
  </body>
</html>