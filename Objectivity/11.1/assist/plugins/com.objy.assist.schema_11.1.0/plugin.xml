<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin
   id="com.objy.assist.schema"
   name="Objectivity/Assist Schema"
   version="11.1.0"
   provider-name="Objectivity"
   class="com.objy.assist.schema.SchemaPlugin">

   <runtime>
      <library name="schema.jar">
         <export name="*"/>
      </library>
   </runtime>
   <requires>
      <import plugin="org.eclipse.core.runtime.compatibility"/>
      <import plugin="org.eclipse.ui.ide"/>
      <import plugin="org.eclipse.ui.views"/>
      <import plugin="org.eclipse.jface.text"/>
      <import plugin="org.eclipse.ui.workbench.texteditor"/>
      <import plugin="org.eclipse.ui.editors"/>
      <import plugin="com.objy.assist.core"/>
      <import plugin="org.eclipse.ui"/>
      <import plugin="org.eclipse.core.resources"/>
      <import plugin="com.objy.assist.api"/>
   </requires>


   <extension
         point="com.objy.assist.core.modelComponentPresentation">
      <domComponentPresentation
            componentTypeName="BaseShape"
            fixedTypeName="Base Class"
            labelAttribute1="baseShapeName"
            isSortable="false"
            image="icons/BaseClass.gif"
            showAllChildren="true">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="DerivedShape"
            fixedTypeName="Derived Class"
            labelAttribute1="derivedShapeName"
            isSortable="true"
            image="icons/DerivedClass.gif"
            showAllChildren="true">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="UsedByMember"
            labelAttribute2="memberName"
            fixedTypeName="Used By"
            labelAttribute1="shapeName"
            isSortable="true"
            image="icons/UsedByMember.gif"
            showAllChildren="true">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="Bases"
            expandInOutline="true"
            isSortable="false"
            image="icons/Bases.gif"
            showAllChildren="true">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="Members"
            expandInOutline="true"
            isSortable="false"
            image="icons/Members.gif"
            showAllChildren="true">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="Derived"
            isSortable="false"
            image="icons/Derived.gif">
      </domComponentPresentation>
      <domComponentPresentation
            componentTypeName="UsedBy"
            fixedTypeName="Used By"
            isSortable="false"
            image="icons/UsedBy.gif">
      </domComponentPresentation>
      <customPresentation
            componentTypeName="NameSpace"
            presentationClass="com.objy.assist.schema.presentation.NameSpacePresentation"
            image="icons/Package.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="BasicMember"
            presentationClass="com.objy.assist.schema.presentation.member.BasicPresentation"
            image="icons/BasicMember.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="EmbeddedMember"
            presentationClass="com.objy.assist.schema.presentation.member.EmbeddedPresentation"
            image="icons/EmbeddedMember.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="RelationshipMember"
            presentationClass="com.objy.assist.schema.presentation.member.RelationshipPresentation">
      </customPresentation>
      <customPresentation
            componentTypeName="RefMember"
            presentationClass="com.objy.assist.schema.presentation.member.ReferencePresentation"
            image="icons/RefMember.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="Shape"
            presentationClass="com.objy.assist.schema.presentation.ShapePresentation"
            image="icons/Shape.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="StringMember"
            presentationClass="com.objy.assist.schema.presentation.member.StringPresentation"
            image="icons/StringMember.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="JArrayMember"
            presentationClass="com.objy.assist.schema.presentation.member.JArrayPresentation"
            image="icons/JArrayMember.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="Class"
            presentationClass="com.objy.assist.schema.presentation.ClassPresentation"
            image="icons/Class.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="Schema"
            presentationClass="com.objy.assist.schema.presentation.SchemaPresentation"
            image="icons/Schema.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="Module"
            presentationClass="com.objy.assist.schema.presentation.ModulePresentation"
            image="icons/Module.gif">
      </customPresentation>
      <customPresentation
            componentTypeName="DateTimeMember"
            image="icons/DateTime.gif"
            presentationClass="com.objy.assist.schema.presentation.member.DateTimeMemberPresentation">
      </customPresentation>
      <customPresentation
            componentTypeName="DateMember"
            image="icons/Date.gif"
            presentationClass="com.objy.assist.schema.presentation.member.DateMemberPresentation">
      </customPresentation>
      <customPresentation
            componentTypeName="TimeMember"
            image="icons/Time.gif"
            presentationClass="com.objy.assist.schema.presentation.member.TimeMemberPresentation">
      </customPresentation>
      <customPresentation
            componentTypeName="IntervalMember"
            image="icons/Interval.gif"
            presentationClass="com.objy.assist.schema.presentation.member.IntervalMemberPresentation">
      </customPresentation>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="Schema"
            icon="icons/Schema.gif"
            filenames="Schema"
            contributorClass="com.objy.assist.core.editors.ModelComponentEditorContributor"
            class="com.objy.assist.schema.editors.SchemaEditor"
            id="com.objy.assist.schema.editors.schemaEditor">
      </editor>
      <editor
            name="Class"
            icon="icons/Class.gif"
            filenames="Class"
            contributorClass="com.objy.assist.core.editors.ModelComponentEditorContributor"
            class="com.objy.assist.schema.editors.ClassEditor"
            id="com.objy.assist.schema.editors.classEditor">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Schema"
            id="com.objy.assist.schema.actions.schema1">
         <visibility>
            <objectState
                  name="preference.com.objy.assist.schema.showModules"
                  value="true">
            </objectState>
         </visibility>
         <action
               label="Add Module"
               class="com.objy.assist.schema.actions.AddModuleActionDelegate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addModule">
            <enablement>
               <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
               </objectState>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Schema"
            id="com.objy.assist.schema.actions.schema2">
         <visibility>
            <objectState
                  name="preference.com.objy.assist.schema.showModules"
                  value="false">
            </objectState>
         </visibility>
         <action
               label="Add Namespace/Package"
               icon="icons/newPackage.gif"
               class="com.objy.assist.schema.actions.AddNameSpaceActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addPackageToSchema">
            <enablement>
               <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
               </objectState>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Schema"
            id="com.objy.assist.schema.actions.schema3">
         <visibility>
            <and>
               <not>
                  <objectState
                        name="preference.com.objy.assist.core.language"
                        value="Java">
                  </objectState>
               </not>
               <objectState
                     name="preference.com.objy.assist.schema.showModules"
                     value="false">
               </objectState>
            </and>
         </visibility>
         <action
               label="Add Class"
               icon="icons/newClass.gif"
               class="com.objy.assist.schema.actions.AddClassActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addClassToSchema">
             <enablement>
               <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
               </objectState>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Schema"
            id="com.objy.assist.schema.actions.schema4">
         <action
               label="Commit Schema Changes"
               class="com.objy.assist.schema.actions.CommitSchemaChangesActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.commitSchemaChanges">
            <enablement>
               <and>
                   <objectState
                     name="haveUncommittedChanges"
                     value="true">
                   </objectState>
                   <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                   </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Abort Schema Changes"
               class="com.objy.assist.schema.actions.AbortSchemaChangesActionDelegate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.abortSchemaChanges">
            <enablement>
               <objectState
                     name="haveUncommittedChanges"
                     value="true">
               </objectState>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Module"
            id="com.objy.assist.schema.actions.module">
         <action
               label="Add Namespace/Package"
               icon="icons/newPackage.gif"
               class="com.objy.assist.schema.actions.AddNameSpaceActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addPackageToModule">
            <enablement>
               <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
               </objectState>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="NameSpace"
            id="com.objy.assist.schema.actions.package">
         <action
               label="Add Class"
               icon="icons/newClass.gif"
               class="com.objy.assist.schema.actions.AddClassActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addClass2">
            <enablement>
               <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
               </objectState>
            </enablement>
         </action>
         <action
               label="Delete"
               icon="icons/remove.gif"
               class="com.objy.assist.schema.actions.DeleteNameSpacesActionDelegate"
               enablesFor="+"
               id="com.objy.assist.schema.actions.deletePackages">
            <enablement>
                <and>
                   <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                   </objectState>
                   <not>
                      <objectState
                        name="name"
                        value="Default">
                      </objectState>
                   </not>
                </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Class"
            id="com.objy.assist.schema.class">
         <action
               label="Delete Class"
               icon="icons/remove.gif"
               class="com.objy.assist.schema.actions.DeleteClassActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.deleteClass">
            <enablement>
               <and>
                   <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                   </objectState>
                   <objectState
                     name="isInternal"
                     value="false">
                   </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Bases"
            id="com.objy.assist.schema.bases">
         <action
               label="Add Base Class"
               class="com.objy.assist.schema.actions.AddBaseClassActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.addBaseClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="Members"
            id="com.objy.assist.schema.members">
         <action
               label="Add Member"
               class="com.objy.assist.schema.actions.AddMemberActionDelegate"
               menubarPath="additions"
               id="com.objy.assist.schema.actions.addMember">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="BaseShape"
            id="com.objy.assist.schema.baseNav">
         <action
               label="Go-To Base..."
               class="com.objy.assist.schema.actions.BaseNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.baseNav">
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="DerivedShape"
            id="com.objy.assist.schema.derivedNav">
         <action
               label="Go-To Derived..."
               class="com.objy.assist.schema.actions.DerivedNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.derivedNav">
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="UsedByMember"
            id="com.objy.assist.schema.UsedByNav">
         <action
               label="Go-To Using Member ..."
               class="com.objy.assist.schema.actions.UsedByNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.usedByNav">
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="*EmbeddedMember"
            id="com.objy.assist.schema.embeddedNav">
         <action
               label="Go-To Embedded ..."
               class="com.objy.assist.schema.actions.EmbeddedNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.embeddedNav">
            <enablement>
               <not>
                  <objectState
                        name="embeddedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="*RefMember"
            id="com.objy.assist.schema.refNav">
         <action
               label="Go-To Referenced ..."
               class="com.objy.assist.schema.actions.RefNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.refNav">
            <enablement>
               <not>
                  <objectState
                        name="referencedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="RelationshipMember"
            id="com.objy.assist.schema.relationshipNav">
         <action
               label="Go-To Related ..."
               class="com.objy.assist.schema.actions.RefNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.relationshipNav">
            <enablement>
               <not>
                  <objectState
                        name="referencedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="*EmbeddedMember"
            id="com.objy.assist.schema.embeddedNav2">
         <action
               label="Go-To Embedded ..."
               class="com.objy.assist.schema.actions.EmbeddedNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.embeddedNav2">
            <enablement>
               <not>
                  <objectState
                        name="embeddedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="*RefMember"
            id="com.objy.assist.schema.refNav2">
         <action
               label="Go-To Referenced ..."
               class="com.objy.assist.schema.actions.RefNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.refNav2">
            <enablement>
               <not>
                  <objectState
                        name="referencedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="RelationshipMember"
            id="com.objy.assist.schema.relationshipNav2">
         <action
               label="Go-To Related ..."
               class="com.objy.assist.schema.actions.RefNavActionDelegate"
               menubarPath="navigate"
               enablesFor="1"
               id="com.objy.assist.schema.actions.relationshipNav2">
            <enablement>
               <not>
                  <objectState
                        name="referencedShapeNumber"
                        value="0">
                  </objectState>
               </not>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="*Member"
            id="com.objy.assist.schema.member">
         <visibility>
            <not>
               <objectState
                     name="id"
                     value="">
               </objectState>
            </not>
         </visibility>
         <action
               label="Move Down"
               icon="icons/moveDown.gif"
               class="com.objy.assist.schema.actions.MoveDownActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveMemberDown">
            <enablement>
               <and>
                  <and>
                     <objectState
                           name="isLastChild"
                           value="false">
                     </objectState>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Move Up"
               icon="icons/moveUp.gif"
               class="com.objy.assist.schema.actions.MoveUpActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveMemberUp">
            <enablement>
               <and>
                  <and>
                     <objectState
                           name="isFirstChild"
                           value="false">
                     </objectState>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Remove Member"
               icon="icons/remove.gif"
               class="com.objy.assist.schema.actions.RemoveMemberActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.removeMember">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Insert Member"
               class="com.objy.assist.schema.actions.AddMemberActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.insertMember">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="RelationshipMember"
            id="com.objy.assist.schema.relationshipmember">
         <action
               label="Clear Inverse Member"
               class="com.objy.assist.schema.actions.ClearInverseMemberActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.clearInverseMember">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="inverseMemberId"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Inverse Member"
               class="com.objy.assist.schema.actions.SetInverseMemberActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.setInverseMember">
            <enablement>
    		  <and>
    		      <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>               
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
               </and>
            </enablement>
         </action>
         <action
               label="Clear Related Class"
               class="com.objy.assist.schema.actions.ClearReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.clearRelatedClass">
            <enablement>
			  <and>   
			      <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>            
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Related Class"
               class="com.objy.assist.schema.actions.SetReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.setRelatedClass">
            <enablement>
               <and>
                     <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                     </objectState>
	                 <objectState
	                       name="parent.parent.parent.isInternal"
	                       value="false">
	                 </objectState>
                     <and>
	                     <objectState
	                           name="isNew"
	                           value="true">
	                     </objectState>
	                     <objectState
	                           name="isProposed"
	                           value="true">
	                     </objectState>
	                 </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="*RefMember"
            id="com.objy.assist.schema.refmember">
         <action
               label="Clear Referenced Class"
               class="com.objy.assist.schema.actions.ClearReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.clearReferencedClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
	            </and>
            </enablement>
         </action>
         <action
               label="Set Referenced Class"
               class="com.objy.assist.schema.actions.SetReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.setReferencedClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="*EmbeddedMember"
            id="com.objy.assist.schema.embeddedmember">
         <action
               label="Clear Embedded Class"
               class="com.objy.assist.schema.actions.ClearEmbeddedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.clearEmbeddedClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="embeddedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Embedded Class"
               class="com.objy.assist.schema.actions.SetEmbeddedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.setEmbeddedClass">
            <enablement>
              <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                  </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="*"
            id="com.objy.assist.schema.member2">
         <action
               label="Move Down"
               icon="icons/moveDown.gif"
               class="com.objy.assist.schema.actions.MoveDownActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveMemberDown2">
            <enablement>
               <and>
                  <and>
                     <objectState
                           name="isLastChild"
                           value="false">
                     </objectState>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Move Up"
               icon="icons/moveUp.gif"
               class="com.objy.assist.schema.actions.MoveUpActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveMemberUp2">
            <enablement>
               <and>
                  <and>
                     <objectState
                           name="isFirstChild"
                           value="false">
                     </objectState>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Remove Member"
               icon="icons/remove.gif"
               class="com.objy.assist.schema.actions.RemoveMemberActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.removeMember2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Insert Member"
               class="com.objy.assist.schema.actions.AddMemberActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.insertMember2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="RelationshipMember"
            id="com.objy.assist.schema.relationshipmember2">
         <action
               label="Clear Inverse Member"
               class="com.objy.assist.schema.actions.ClearInverseMemberActionDelegate"
               menubarPath="extended"
               enablesFor="11"
               id="com.objy.assist.schema.actions.clearInverseMember2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="inverseMemberId"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Inverse Member"
               class="com.objy.assist.schema.actions.SetInverseMemberActionDelegate"
               menubarPath="extended"
               enablesFor="11"
               id="com.objy.assist.schema.actions.setInverseMember2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Clear Related Class"
               class="com.objy.assist.schema.actions.ClearReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="11"
               id="com.objy.assist.schema.actions.clearRelatedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Related Class"
               class="com.objy.assist.schema.actions.SetReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="11"
               id="com.objy.assist.schema.actions.setRelatedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="*RefMember"
            id="com.objy.assist.schema.refmember2">
         <action
               label="Clear Referenced Class"
               class="com.objy.assist.schema.actions.ClearReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="2"
               id="com.objy.assist.schema.actions.clearReferencedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="referencedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Referenced Class"
               class="com.objy.assist.schema.actions.SetReferencedClassActionDelegate"
               menubarPath="extended"
               enablesFor="2"
               id="com.objy.assist.schema.actions.setReferencedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.schema.editors.MemberTableItem"
            nameFilter="*EmbeddedMember"
            id="com.objy.assist.schema.embeddedmember2">
         <action
               label="Clear Embedded Class"
               class="com.objy.assist.schema.actions.ClearEmbeddedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.clearEmbeddedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <not>
                        <objectState
                              name="embeddedShapeNumber"
                              value="0">
                        </objectState>
                     </not>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
         <action
               label="Set Embedded Class"
               class="com.objy.assist.schema.actions.SetEmbeddedClassActionDelegate"
               menubarPath="extended"
               enablesFor="1"
               id="com.objy.assist.schema.actions.setEmbeddedClass2">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
                   <and>
                     <objectState
                           name="isNew"
                           value="true">
                     </objectState>
                     <objectState
                           name="isProposed"
                           value="true">
                     </objectState>
                   </and>
               </and>
            </enablement>
         </action>
      </objectContribution>
      <objectContribution
            objectClass="com.objy.assist.core.model.dom.IDomComponent"
            nameFilter="BaseShape"
            id="com.objy.assist.schema.baseShape">
         <action
               label="Move Down"
               icon="icons/moveDown.gif"
               class="com.objy.assist.schema.actions.MoveDownActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveBaseClassDown">
            <enablement>
               <and>
                  <and>
                     <and>
                        <objectState
                              name="isLastChild"
                              value="false">
                        </objectState>
                        <objectState
                              name="persistentCapable"
                              value="false">
                        </objectState>
                     </and>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Move Up"
               icon="icons/moveUp.gif"
               class="com.objy.assist.schema.actions.MoveUpActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.moveBaseClassUp">
            <enablement>
               <and>
                  <and>
                     <and>
                        <objectState
                              name="isFirstChild"
                              value="false">
                        </objectState>
                        <objectState
                              name="previous.persistentCapable"
                              value="false">
                        </objectState>
                     </and>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Remove Base Class"
               icon="icons/remove.gif"
               class="com.objy.assist.schema.actions.RemoveBaseClassActionDelegate"
               menubarPath="additions"
               enablesFor="+"
               id="com.objy.assist.schema.actions.removeBaseClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <objectState
                        name="parent.parent.parent.isInternal"
                        value="false">
                  </objectState>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
         <action
               label="Insert Base Class"
               class="com.objy.assist.schema.actions.AddBaseClassActionDelegate"
               menubarPath="additions"
               enablesFor="1"
               id="com.objy.assist.schema.actions.insertBaseClass">
            <enablement>
               <and>
                  <objectState
                        name="preference.com.objy.assist.core.connectionMode"
                        value="readWrite">
                  </objectState>
                  <and>
                     <objectState
                           name="persistentCapable"
                           value="false">
                     </objectState>
                     <objectState
                           name="parent.parent.parent.isInternal"
                           value="false">
                     </objectState>
                  </and>
                  <objectState
                        name="parent.parent.isLatestShape"
                        value="true">
                  </objectState>
               </and>
            </enablement>
         </action>
      </objectContribution>
   </extension>
   <extension
         point="com.objy.assist.core.domComponentCompare"> 
      <domComponentCompare
            componentTypeName="Module"
            idAttribute1="name">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="NameSpace"
            idAttribute1="name">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="Class"
            idAttribute1="typeNumber">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="BaseShape"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="DerivedShape"
            idAttribute1="derivedShapeNumber">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="UsedByMember"
            idAttribute2="memberId"
            idAttribute1="shapeNumber">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="BasicMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="EmbeddedMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="RefMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="StringMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="VArrayOfBasicMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="VArrayOfEmbeddedMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="VArrayOfRefMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="RelationshipMember"
            idAttribute1="id">
      </domComponentCompare>
      <domComponentCompare
            componentTypeName="Shape"
            idAttribute1="shapeNumber">
      </domComponentCompare>
   </extension>
   <extension
         point="com.objy.assist.core.modelComponentChildProvider">
      <childProvider
            componentTypeName="Class"
            childProviderClass="com.objy.assist.schema.modelExtensions.ClassChildProvider">
      </childProvider>
   </extension>
   <extension
         point="com.objy.assist.core.domComponentProvider">
      <provider
            componentTypeName="Schema"
            providerClass="com.objy.assist.schema.modelExtensions.SchemaDomComponentProvider">
      </provider>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="Schema"
            category="com.objy.assist"
            class="com.objy.assist.schema.SchemaPreferencePage"
            id="com.objy.assist.schema">
      </page>
   </extension>
   <extension
         point="com.objy.assist.core.modelTreeRefresher">
      <refresher
            refresherClass="com.objy.assist.schema.PreferenceChangeModelTreeRefresher">
      </refresher>
   </extension>
   <extension
         point="com.objy.assist.core.modelComponentFilter">
      <filter
            componentTypeName="NameSpace"
            filter="com.objy.assist.schema.modelExtensions.NamespaceFilter">
      </filter>
      <filter
            componentTypeName="Class"
            filter="com.objy.assist.schema.modelExtensions.ClassFilter">
      </filter>
   </extension>
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            label="Schema"
            visible="false"
            id="com.objy.assist.schema.actionSet">
         <menu
               label="Schema"
               path="additions"
               id="com.objy.assist.schema.schemaMenu">
            <separator name="additions"/>
         </menu>
         <action
               toolbarPath="com.objy.assist.schema.schemaMenu/additions"
               label="Abort Schema Changes"
               tooltip="Abort Schema Changes"
               class="com.objy.assist.schema.actions.AbortAction"
               icon="icons/Abort.gif"
               menubarPath="com.objy.assist.schema.schemaMenu/additions"
               id="com.objy.assist.schema.abortSchemaActionItem">
         </action>
         <action
               toolbarPath="com.objy.assist.schema.schemaMenu/additions"
               label="Commit Schema Changes"
               class="com.objy.assist.schema.actions.CommitAction"
               tooltip="Commit Schema Changes"
               icon="icons/Commit.gif"
               menubarPath="com.objy.assist.schema.schemaMenu/additions"
               id="com.objy.assist.schema.commitSchemaActionItem"/>
      </actionSet>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension targetID="com.objy.assist.core.perspective">
         <actionSet id="com.objy.assist.schema.actionSet"/>
      </perspectiveExtension>
   </extension>

</plugin>
